/*!
 * ==========================================================
 *  COLOR PICKER PLUGIN 1.3.2
 * ==========================================================
 * Author: Taufik Nurrohman <https://github.com/tovic>
 * License: MIT
 * ----------------------------------------------------------
 */
!function(e,t){function s(e){return"undefined"!=typeof e}function u(e){return"string"==typeof e}function a(e){return"object"==typeof e}function l(e){return Object.keys(e).length}function c(e,t,n){return t>e?t:e>n?n:e}function d(e,t){return parseInt(e,t||10)}function p(e){return Math.round(e)}function b(e){var r,o,f,s,u,a,l,c,t=+e[0],n=+e[1],i=+e[2];switch(s=Math.floor(6*t),u=6*t-s,a=i*(1-n),l=i*(1-u*n),c=i*(1-(1-u)*n),s=s||0,l=l||0,c=c||0,s%6){case 0:r=i,o=c,f=a;break;case 1:r=l,o=i,f=a;break;case 2:r=a,o=i,f=c;break;case 3:r=a,o=l,f=i;break;case 4:r=c,o=a,f=i;break;case 5:r=i,o=a,f=l}return[p(255*r),p(255*o),p(255*f)]}function h(e){return v(b(e))}function y(e){var s,t=+e[0],n=+e[1],i=+e[2],r=Math.max(t,n,i),o=Math.min(t,n,i),f=r-o,u=0===r?0:f/r,a=r/255;switch(r){case o:s=0;break;case t:s=n-i+f*(i>n?6:0),s/=6*f;break;case n:s=i-t+2*f,s/=6*f;break;case i:s=t-n+4*f,s/=6*f}return[s,u,a]}function v(e){var t=+e[2]|+e[1]<<8|+e[0]<<16;return t="000000"+t.toString(16),t.slice(-6)}function g(e){return y(m(e))}function m(e){return 3===e.length&&(e=e.replace(/./g,"$&$&")),[d(e[0]+e[1],16),d(e[2]+e[3],16),d(e[4]+e[5],16)]}function x(e){return[+e[0]/360,+e[1]/100,+e[2]/100]}function k(e){return[p(360*+e[0]),p(100*+e[1]),p(100*+e[2])]}function w(e){return[+e[0]/255,+e[1]/255,+e[2]/255]}function E(e){if(a(e))return e;var t=/\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i.exec(e),n=/\s*hsv\s*\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)\s*$/i.exec(e),i="#"===e[0]&&e.match(/^#([\da-f]{3}|[\da-f]{6})$/i);return i?g(e.slice(1)):n?x([+n[1],+n[2],+n[3]]):t?y([+t[1],+t[2],+t[3]]):[0,1,1]}var n="__instance__",i="firstChild",r="scrollLeft",o="scrollTop",f=setTimeout;!function(e){e.version="1.3.2",e[n]={},e.each=function(t,i){return f(function(){var r,i=e[n];for(r in i)t(i[r],r,i)},0===i?0:i||1),e},e.parse=E,e._HSV2RGB=b,e._HSV2HEX=h,e._RGB2HSV=y,e._HEX2HSV=g,e._HEX2RGB=function(e){return w(m(e))},e.HSV2RGB=function(e){return b(x(e))},e.HSV2HEX=function(e){return h(x(e))},e.RGB2HSV=function(e){return k(y(e))},e.RGB2HEX=v,e.HEX2HSV=function(e){return k(g(e))},e.HEX2RGB=m}(e.CP=function(d,p){function T(e,t,n){e=e.split(/\s+/);for(var i=0,r=e.length;r>i;++i)t.addEventListener(e[i],n,!1)}function $(e,t,n){e=e.split(/\s+/);for(var i=0,r=e.length;r>i;++i)t.removeEventListener(e[i],n)}function L(e,t){for(var n=t.touches?t.touches[0].pageX:t.pageX,i=t.touches?t.touches[0].pageY:t.pageY,r=_(e).l,o=_(e).t;e=e.offsetParent;)r+=_(e).l,o+=_(e).t;return{x:n-r,y:i-o}}function _(e){return{l:e.offsetLeft,t:e.offsetTop}}function H(e,t){for(;(e=e.parentElement)&&e!==t;);return e}function C(e){e&&e.preventDefault()}function z(e){return{w:e.offsetWidth,h:e.offsetHeight}}function O(e){return v||(s(e)?e:!1)}function M(e){v=e}function S(e,t,n){return s(e)?s(t)?(s(g[e])||(g[e]={}),s(n)||(n=l(g[e])),g[e][n]=t,y):g[e]:g}function B(e,t){return s(e)?s(t)?(delete g[e][t],y):(g[e]={},y):(g={},y)}function j(e,t,n){if(!s(g[e]))return y;if(s(n))s(g[e][n])&&g[e][n].apply(y,t);else for(var i in g[e])g[e][i].apply(y,t);return y}function ee(e,t){e&&"h"!==e||j("change:h",t),e&&"sv"!==e||j("change:sv",t),j("change",t)}function te(){return m.parentNode}function ne(n,i){function g(e){var t=e.target,n=t===d||H(t,d)===d;n?ne():y.exit(),j(n?"enter":"exit",[y])}function _(e){var n=(b(P),b([P[0],1,1]));A.style.backgroundColor="rgb("+n.join(",")+")",M(P),C(e)}function S(e){var t=c(L(D,e).y,0,f);P[0]=(f-t)/f,R.style.top=t-a/2+"px",_(e)}function B(e){var t=L(A,e),n=c(t.x,0,s),i=c(t.y,0,u);P[1]=1-(s-n)/s,P[2]=(u-i)/u,V.style.right=s-n-l/2+"px",V.style.top=i-v/2+"px",_(e)}function Y(e){I&&(S(e),J=h(P),G||(j("drag:h",[J,y]),j("drag",[J,y]),ee("h",[J,y]))),W&&(B(e),J=h(P),F||(j("drag:sv",[J,y]),j("drag",[J,y]),ee("sv",[J,y]))),G=0,F=0}function N(e){var t=e.target,n=I?"h":"sv",i=[h(P),y],r=t===d||H(t,d)===d,o=t===m||H(t,m)===m;r||o?o&&(j("stop:"+n,i),j("stop",i),ee(n,i)):te()&&p!==!1&&(y.exit(),j("exit",[y]),ee(0,i)),I=0,W=0}function q(e){G=1,I=1,Y(e),C(e),j("start:h",[J,y]),j("start",[J,y]),ee("h",[J,y])}function K(e){F=1,W=1,Y(e),C(e),j("start:sv",[J,y]),j("start",[J,y]),ee("sv",[J,y])}n||((i||X).appendChild(m),y.visible=!0),U=z(m).w,Z=z(m).h;var r=z(A),o=z(V),f=z(D).h,s=r.w,u=r.h,a=z(R).h,l=o.w,v=o.h;n?(m.style.left=m.style.top="-9999px",p!==!1&&T(p,d,g),y.create=function(){return ne(1),j("create",[y]),y},y.destroy=function(){return p!==!1&&$(p,d,g),y.exit(),M(!1),j("destroy",[y]),y}):ie(),Q=function(){P=O(P),_(),R.style.top=f-a/2-f*+P[0]+"px",V.style.right=s-l/2-s*+P[1]+"px",V.style.top=u-v/2-u*+P[2]+"px"},y.exit=function(n){return te()&&(te().removeChild(m),y.visible=!1),$(x,D,q),$(x,A,K),$(k,t,Y),$(w,t,N),$(E,e,ie),y},Q(),n||(T(x,D,q),T(x,A,K),T(k,t,Y),T(w,t,N),T(E,e,ie))}function ie(){return y.fit()}var y=this,v=!1,g={},m=t.createElement("div"),x="touchstart mousedown",k="touchmove mousemove",w="touchend mouseup",E="orientationchange resize";if(!(y instanceof CP))return new CP(d,p);CP[n][d.id||d.name||l(CP[n])]=y,s(p)||(p=x),M(CP.parse(d.getAttribute("data-color")||d.value||[0,1,1])),m.className="color-picker",m.innerHTML='<div class="color-picker-control"><span class="color-picker-h"><i></i></span><span class="color-picker-sv"><i></i></span></div>';var Q,X=t.body,Y=t.documentElement,N=m[i].children,P=O([0,1,1]),D=N[0],A=N[1],R=D[i],V=A[i],G=0,F=0,I=0,W=0,q=0,K=0,U=0,Z=0,J=h(P);return ne(1),f(function(){var e=[h(P),y];j("create",e),ee(0,e)},0),y.fit=function(t){var n=z(Y).w,i=e.innerHeight,f=Math.max(X[r],Y[r]),u=Math.max(X[o],Y[o]),l=n+f,c=i+u,p=_(d);return q=p.l,K=p.t+z(d).h,a(t)?(s(t[0])&&(q=t[0]),s(t[1])&&(K=t[1])):(q+U>l&&(q=l-U),K+Z>c&&(K=c-Z)),m.style.left=q+"px",m.style.top=K+"px",j("fit",[y]),y},y.set=function(e){return s(e)?(u(e)&&(e=CP.parse(e)),M(e),Q(),y):O()},y.target=d,y.picker=m,y.visible=!1,y.on=S,y.off=B,y.trigger=j,y.hooks=g,y.enter=function(e){return ne(0,e)},y})}(window,document);